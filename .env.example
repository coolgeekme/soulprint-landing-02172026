# ==============================================================================
# SoulPrint Environment Variables
# ==============================================================================
# Copy this file to .env.local and fill in your values.
# For production (Vercel), add these variables in Settings → Environment Variables.
#
# Lines marked [REQUIRED] must be set for the app to function.
# Lines marked [OPTIONAL] can be omitted if you don't use that feature.
# ==============================================================================

# ==============================================================================
# CORE APPLICATION
# ==============================================================================

# Base URL for the application (used for OAuth redirects, links in emails, etc.)
# In development: http://localhost:3000
# In production: https://your-domain.com
NEXT_PUBLIC_SITE_URL=http://localhost:3000

# Public base URL for sharing (defaults to https://soulprint.studio)
# NEXT_PUBLIC_BASE_URL=https://soulprint.studio

# Enable dev login bypass (development only, set to "true" to enable)
# ENABLE_DEV_LOGIN=false

# ==============================================================================
# SUPABASE [REQUIRED]
# ==============================================================================
# Get these from: https://app.supabase.com → Project Settings → API

# Your Supabase project URL
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co

# Public anonymous key (safe to expose in browser)
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key

# Service role key (server-side only, NEVER expose to browser)
# Used for admin operations like migrations, bypassing RLS
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key

# ==============================================================================
# AWS BEDROCK (LLM + Embeddings) [REQUIRED]
# ==============================================================================
# All AI processing runs on AWS Bedrock. Get credentials from IAM Console.
# Ensure Bedrock model access is enabled in your region.

# AWS Region where Bedrock is enabled
AWS_REGION=us-east-1

# Claude model ID for chat/generation (check Bedrock console for available models)
# Options: anthropic.claude-3-5-haiku-20241022-v2:0, anthropic.claude-3-5-sonnet-20241022-v2:0
BEDROCK_MODEL_ID=anthropic.claude-3-5-haiku-20241022-v2:0

# Titan model ID for text embeddings (used for semantic search)
BEDROCK_EMBEDDING_MODEL_ID=amazon.titan-embed-text-v1

# IAM credentials with Bedrock invoke permissions
AWS_ACCESS_KEY_ID=your_aws_access_key_id
AWS_SECRET_ACCESS_KEY=your_aws_secret_access_key

# Only set if using temporary credentials from STS
# AWS_SESSION_TOKEN=your_aws_session_token

# ==============================================================================
# ASSEMBLYAI (Voice Analysis) [REQUIRED for voice features]
# ==============================================================================
# Get your API key from: https://www.assemblyai.com/app/account

ASSEMBLYAI_API_KEY=your_assemblyai_api_key

# ==============================================================================
# GMAIL (Email Sending) [OPTIONAL]
# ==============================================================================
# Required only if sending emails (e.g., waitlist confirmations).
# Setup: Create OAuth 2.0 credentials in Google Cloud Console.

# Gmail address to send from
# GMAIL_USER=your-email@gmail.com

# OAuth 2.0 credentials from Google Cloud Console
# GMAIL_CLIENT_ID=your_gmail_client_id
# GMAIL_CLIENT_SECRET=your_gmail_client_secret
# GMAIL_REFRESH_TOKEN=your_gmail_refresh_token

# ==============================================================================
# STREAK CRM (Waitlist Management) [OPTIONAL]
# ==============================================================================
# Required only if using Streak for waitlist/CRM integration.
# Get these from: Streak → Settings → API & Integrations

# API key (Basic auth username)
# STREAK_API_KEY=your_streak_api_key

# Pipeline key for the waitlist pipeline
# STREAK_PIPELINE_KEY=your_streak_pipeline_key

# Stage key for "Lead Collected" stage (defaults to 5001)
# STREAK_STAGE_KEY=5001

# Team key (optional, app will fetch first team via API if omitted)
# STREAK_TEAM_KEY=your_streak_team_key

# ==============================================================================
# TAVILY (Web Search) [OPTIONAL]
# ==============================================================================
# Real-time web search for AI responses.
# Get your API key from: https://tavily.com (1000 free searches/month)

# TAVILY_API_KEY=your_tavily_api_key

# ==============================================================================
# KIE.AI (Avatar Image Generation) [OPTIONAL]
# ==============================================================================
# AI-generated avatar images.
# Get your API key from: https://kie.ai

# KIE_API_KEY=your_kie_api_key

# ==============================================================================
# AWS SAGEMAKER [OPTIONAL - Legacy]
# ==============================================================================
# Only needed if using custom SageMaker endpoints instead of Bedrock.
# Most deployments should use Bedrock above instead.

# SAGEMAKER_ENDPOINT_NAME=soulprint-llm
# SAGEMAKER_EXECUTION_ROLE_ARN=arn:aws:iam::123456789:role/sagemaker-execution-role

# ==============================================================================
# WEBHOOK CONFIGURATION [OPTIONAL]
# ==============================================================================
# For external automation platforms (n8n, Make, Zapier, etc.)

# n8n webhook URL for SoulPrint submission automation
# NEXT_PUBLIC_N8N_SOULPRINT_WEBHOOK=https://your-n8n-instance.com/webhook/soulprint

# Webhook URL for voice/prosody analysis results
# SOULPRINT_AUTOMATION_WEBHOOK_URL=https://your-automation-platform.com/webhook/voice-analysis

# HMAC-SHA256 secret for signing webhook payloads
# SOULPRINT_WEBHOOK_SECRET=your_webhook_secret_here

# Webhook timeout in milliseconds (default: 10000)
# SOULPRINT_WEBHOOK_TIMEOUT=10000

# Number of retry attempts for failed webhooks (default: 2)
# SOULPRINT_WEBHOOK_RETRY_COUNT=2

# Delay between retries in milliseconds (default: 1000)
# SOULPRINT_WEBHOOK_RETRY_DELAY=1000

# ==============================================================================
# AUDIO PROCESSING [OPTIONAL]
# ==============================================================================
# Local audio processing configuration.

# Temporary directory for audio files
# Default: Uses system temp or ./tmp/soulprint-audio
# On Windows, use something like: C:\\temp\\soulprint-audio
# AUDIO_TEMP_DIR=/tmp/soulprint-audio

# Path to Python executable (default: python)
# Use full path if Python is not in PATH
# PYTHON_PATH=python

# ==============================================================================
# LOCAL DEVELOPMENT [OPTIONAL]
# ==============================================================================
# Settings that only apply during local development.

# Force local LLM (Ollama) even when Bedrock is configured
# NEXT_PUBLIC_FORCE_LOCAL_LLM=false

# Ollama URL for local LLM development (default: http://localhost:11434)
# OLLAMA_URL=http://localhost:11434

# ==============================================================================
# DEPRECATED - DO NOT USE
# ==============================================================================
# These are kept for reference but should not be used in new deployments.
# All AI processing now uses AWS Bedrock.

# GEMINI_API_KEY=deprecated_use_bedrock
# OPENAI_API_KEY=deprecated_use_bedrock
